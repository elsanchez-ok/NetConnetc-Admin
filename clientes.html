<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>NetConnect Pro | Clientes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ============================================
           RESET Y BASE
        ============================================ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #7c3aed;
            --primary-dark: #6d28d9;
            --primary-light: #8b5cf6;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #3b82f6;
            --dark-color: #1e293b;
            --light-color: #f8fafc;
            --gray-color: #64748b;
            --gray-light: #e2e8f0;
            --gray-dark: #475569;
            --card-bg: #ffffff;
            --card-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            --modal-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            --border-radius: 16px;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            --fast-transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --primary-color: #8b5cf6;
            --primary-dark: #7c3aed;
            --primary-light: #a78bfa;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #3b82f6;
            --dark-color: #f1f5f9;
            --light-color: #0f172a;
            --gray-color: #94a3b8;
            --gray-light: #334155;
            --gray-dark: #cbd5e1;
            --card-bg: #1e293b;
            --card-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
            padding-bottom: 80px;
        }

        /* ============================================
           ADVERTENCIA PARA PC
        ============================================ */
        .desktop-warning {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            z-index: 9999;
            padding: 20px;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.5s ease;
        }

        .desktop-warning.active {
            display: flex;
        }

        .warning-content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 24px;
            padding: 40px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
            animation: slideUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(50px) scale(0.9); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
        }

        .warning-icon {
            font-size: 80px;
            color: var(--primary-color);
            margin-bottom: 25px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        .warning-title {
            font-size: 32px;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .warning-message {
            font-size: 18px;
            color: #475569;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .continue-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 10px 25px rgba(124, 58, 237, 0.3);
            transition: var(--fast-transition);
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .continue-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(124, 58, 237, 0.4);
        }

        /* ============================================
           HEADER SUPERIOR
        ============================================ */
        .app-header {
            background: var(--card-bg);
            padding: 20px 25px;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: space-between;
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.9);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        [data-theme="dark"] .app-header {
            background: rgba(30, 41, 59, 0.9);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 20px;
            box-shadow: 0 8px 25px rgba(124, 58, 237, 0.3);
        }

        .user-details h2 {
            font-size: 18px;
            font-weight: 800;
            color: var(--dark-color);
            margin-bottom: 4px;
        }

        .user-details p {
            font-size: 13px;
            color: var(--gray-color);
            font-weight: 500;
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        .header-btn {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            border: none;
            background: var(--card-bg);
            color: var(--dark-color);
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--fast-transition);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            position: relative;
        }

        .header-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
            background: var(--primary-color);
            color: white;
        }

        .notification-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 8px;
            height: 8px;
            background: var(--danger-color);
            border-radius: 50%;
            border: 2px solid var(--card-bg);
        }

        .theme-toggle {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 14px;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--fast-transition);
            box-shadow: 0 8px 25px rgba(124, 58, 237, 0.3);
        }

        .theme-toggle:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: 0 15px 35px rgba(124, 58, 237, 0.4);
        }

        /* ============================================
           CONTENIDO PRINCIPAL
        ============================================ */
        .main-content {
            padding: 25px;
        }

        .page-title {
            font-size: 28px;
            font-weight: 800;
            color: var(--dark-color);
            margin-bottom: 8px;
            position: relative;
            display: inline-block;
        }

        .page-title::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 0;
            width: 50px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-dark));
            border-radius: 2px;
        }

        .page-subtitle {
            font-size: 15px;
            color: var(--gray-color);
            margin-bottom: 25px;
            font-weight: 500;
        }

        /* ============================================
           ESTADÍSTICAS
        ============================================ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        @media (min-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--card-shadow);
            transition: var(--fast-transition);
            border: 1px solid var(--gray-light);
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-dark));
            border-radius: var(--border-radius) var(--border-radius) 0 0;
        }

        .stat-card:nth-child(2)::before {
            background: linear-gradient(90deg, var(--success-color), #059669);
        }

        .stat-card:nth-child(3)::before {
            background: linear-gradient(90deg, var(--warning-color), #d97706);
        }

        .stat-card:nth-child(4)::before {
            background: linear-gradient(90deg, var(--danger-color), #dc2626);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            color: white;
            margin-bottom: 15px;
            box-shadow: 0 8px 20px rgba(124, 58, 237, 0.2);
        }

        .stat-card:nth-child(1) .stat-icon {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
        }

        .stat-card:nth-child(2) .stat-icon {
            background: linear-gradient(135deg, var(--success-color), #059669);
        }

        .stat-card:nth-child(3) .stat-icon {
            background: linear-gradient(135deg, var(--warning-color), #d97706);
        }

        .stat-card:nth-child(4) .stat-icon {
            background: linear-gradient(135deg, var(--danger-color), #dc2626);
        }

        .stat-value {
            font-size: 28px;
            font-weight: 900;
            color: var(--dark-color);
            margin-bottom: 5px;
            line-height: 1;
        }

        .stat-label {
            font-size: 13px;
            color: var(--gray-color);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* ============================================
           BÚSQUEDA Y FILTROS RÁPIDOS
        ============================================ */
        .quick-actions {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--gray-light);
            position: relative;
            overflow: hidden;
        }

        .quick-actions::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-dark));
        }

        .actions-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .actions-header h3 {
            font-size: 18px;
            font-weight: 700;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .actions-header i {
            color: var(--primary-color);
            background: rgba(124, 58, 237, 0.1);
            padding: 10px;
            border-radius: 10px;
            font-size: 18px;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 16px 20px 16px 50px;
            border: 2px solid var(--gray-light);
            border-radius: 50px;
            font-size: 15px;
            background: var(--card-bg);
            color: var(--dark-color);
            transition: var(--fast-transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-color);
            font-size: 18px;
        }

        .quick-filters {
            display: flex;
            gap: 12px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .filter-chip {
            padding: 10px 18px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--fast-transition);
            border: 2px solid var(--gray-light);
            background: var(--card-bg);
            color: var(--gray-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-chip:hover {
            background: var(--gray-light);
            transform: translateY(-2px);
        }

        .filter-chip.active {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border-color: var(--primary-color);
            box-shadow: 0 5px 15px rgba(124, 58, 237, 0.2);
        }

        .filter-chip i {
            font-size: 14px;
        }

        /* ============================================
           LISTA DE CLIENTES (MEJORADA Y ORDENADA)
        ============================================ */
        .clients-section {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--gray-light);
            position: relative;
            overflow: hidden;
        }

        .clients-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-dark));
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .section-header h2 {
            font-size: 20px;
            font-weight: 700;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-header i {
            color: var(--primary-color);
            background: rgba(124, 58, 237, 0.1);
            padding: 12px;
            border-radius: 12px;
            font-size: 18px;
        }

        .clients-count {
            font-size: 14px;
            color: var(--gray-color);
            font-weight: 600;
            background: rgba(124, 58, 237, 0.05);
            padding: 8px 16px;
            border-radius: 50px;
        }

        /* LISTA DE CLIENTES - DISEÑO MEJORADO */
        .clients-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .client-row {
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: 15px;
            background: var(--card-bg);
            border-radius: 14px;
            padding: 18px 20px;
            transition: var(--fast-transition);
            border: 2px solid transparent;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .client-row:hover {
            transform: translateY(-3px);
            border-color: rgba(124, 58, 237, 0.2);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .client-row::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, var(--primary-color), var(--primary-dark));
            border-radius: 2px;
            opacity: 0;
            transition: var(--fast-transition);
        }

        .client-row:hover::before {
            opacity: 1;
        }

        /* COLUMNA 1: AVATAR */
        .client-avatar-col {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .client-avatar {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 18px;
            box-shadow: 0 6px 20px rgba(124, 58, 237, 0.3);
            flex-shrink: 0;
            position: relative;
            overflow: hidden;
        }

        .client-avatar::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent);
            transform: rotate(45deg);
        }

        /* COLUMNA 2: INFORMACIÓN (EN UNA SOLA LÍNEA) */
        .client-info-col {
            display: flex;
            flex-direction: column;
            gap: 6px;
            min-width: 0;
        }

        .client-main-info {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .client-name {
            font-weight: 700;
            color: var(--dark-color);
            font-size: 16px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .client-id {
            font-size: 12px;
            color: var(--gray-color);
            font-weight: 600;
            background: rgba(124, 58, 237, 0.05);
            padding: 4px 10px;
            border-radius: 20px;
            white-space: nowrap;
        }

        .client-secondary-info {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .client-contact {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--gray-color);
            white-space: nowrap;
        }

        .client-contact i {
            font-size: 12px;
            color: var(--primary-color);
        }

        .client-plan {
            font-size: 13px;
            color: var(--gray-color);
            font-weight: 500;
            background: rgba(124, 58, 237, 0.05);
            padding: 4px 10px;
            border-radius: 20px;
            white-space: nowrap;
        }

        /* COLUMNA 3: ESTADO Y ACCIÓN */
        .client-actions-col {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .client-status {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            white-space: nowrap;
            min-width: 85px;
            text-align: center;
        }

        .status-active {
            background: rgba(16, 185, 129, 0.15);
            color: var(--success-color);
            border: 2px solid rgba(16, 185, 129, 0.3);
        }

        .status-warning {
            background: rgba(245, 158, 11, 0.15);
            color: var(--warning-color);
            border: 2px solid rgba(245, 158, 11, 0.3);
        }

        .status-expired {
            background: rgba(239, 68, 68, 0.15);
            color: var(--danger-color);
            border: 2px solid rgba(239, 68, 68, 0.3);
        }

        .client-action-btn {
            width: 42px;
            height: 42px;
            border-radius: 12px;
            border: none;
            background: var(--card-bg);
            color: var(--dark-color);
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--fast-transition);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
        }

        .client-action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            opacity: 0;
            transition: var(--fast-transition);
        }

        .client-action-btn i {
            position: relative;
            z-index: 1;
            transition: var(--fast-transition);
        }

        .client-action-btn:hover {
            transform: translateY(-2px) scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .client-action-btn:hover::before {
            opacity: 1;
        }

        .client-action-btn:hover i {
            color: white;
        }

        /* ESTADO VACÍO */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
        }

        .empty-icon {
            font-size: 60px;
            color: var(--gray-light);
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 10px;
        }

        .empty-message {
            font-size: 15px;
            color: var(--gray-color);
            margin-bottom: 25px;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
        }

        /* ============================================
           PAGINACIÓN
        ============================================ */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid var(--gray-light);
        }

        .pagination-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            border: none;
            background: var(--card-bg);
            color: var(--dark-color);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--fast-transition);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .pagination-btn:hover:not(:disabled) {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-btn.active {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            box-shadow: 0 5px 15px rgba(124, 58, 237, 0.2);
        }

        .pagination-info {
            font-size: 14px;
            color: var(--gray-color);
            font-weight: 600;
            padding: 0 15px;
        }

        /* ============================================
           BOTTOM NAV DESLIZANTE MEJORADA CON SCROLL
        ============================================ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card-bg);
            border-top: 1px solid var(--gray-light);
            box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            padding: 15px 0;
            transform: translateY(100%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.95);
            border-top-left-radius: 24px;
            border-top-right-radius: 24px;
            max-height: 70vh;
            display: flex;
            flex-direction: column;
        }

        [data-theme="dark"] .bottom-nav {
            background: rgba(30, 41, 59, 0.95);
        }

        .bottom-nav.active {
            transform: translateY(0);
        }

        .nav-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 25px 15px;
            border-bottom: 1px solid var(--gray-light);
            margin-bottom: 15px;
            flex-shrink: 0;
        }

        .nav-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--dark-color);
        }

        .close-nav {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            border: none;
            background: var(--gray-light);
            color: var(--dark-color);
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--fast-transition);
        }

        .close-nav:hover {
            background: var(--primary-color);
            color: white;
            transform: rotate(90deg);
        }

        /* CONTENEDOR DESLIZABLE */
        .nav-scroll-container {
            flex: 1;
            overflow-y: auto;
            padding: 0 25px;
            max-height: calc(70vh - 100px);
        }

        .nav-scroll-container::-webkit-scrollbar {
            width: 6px;
        }

        .nav-scroll-container::-webkit-scrollbar-track {
            background: var(--gray-light);
            border-radius: 10px;
        }

        .nav-scroll-container::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }

        .nav-scroll-container::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        /* NUEVO: NAV GRID MEJORADO CON ACCIONES */
        .nav-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            padding-bottom: 20px;
        }

        @media (max-width: 768px) {
            .nav-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .nav-grid {
                grid-template-columns: 1fr;
            }
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px 15px;
            border-radius: 14px;
            text-decoration: none;
            color: var(--gray-color);
            transition: var(--fast-transition);
            position: relative;
            background: var(--card-bg);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            min-height: 100px;
        }

        .nav-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            color: var(--primary-color);
        }

        .nav-item.active {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            box-shadow: 0 8px 20px rgba(124, 58, 237, 0.3);
        }

        /* NUEVO: BOTONES DE ACCIÓN ESPECIALES EN BOTTOM NAV */
        .nav-action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px 15px;
            border-radius: 14px;
            border: none;
            color: white;
            transition: var(--fast-transition);
            cursor: pointer;
            font-weight: 600;
            font-size: 13px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            min-height: 100px;
        }

        .nav-new-client {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
        }

        .nav-new-client:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(124, 58, 237, 0.3);
        }

        .nav-logout {
            background: linear-gradient(135deg, var(--danger-color), #dc2626);
        }

        .nav-logout:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(239, 68, 68, 0.3);
        }

        .nav-icon {
            font-size: 24px;
            margin-bottom: 12px;
        }

        .nav-label {
            font-size: 12px;
            font-weight: 600;
            text-align: center;
        }

        .nav-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--danger-color);
            color: white;
            font-size: 10px;
            min-width: 20px;
            height: 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            border: 2px solid var(--card-bg);
        }

        /* ============================================
           BOTÓN FLOTANTE PARA NAVEGACIÓN
        ============================================ */
        .floating-nav-btn {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 900;
            box-shadow: 0 12px 30px rgba(124, 58, 237, 0.4);
            transition: var(--fast-transition);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 12px 30px rgba(124, 58, 237, 0.4);
            }
            50% {
                box-shadow: 0 12px 30px rgba(124, 58, 237, 0.6), 0 0 0 8px rgba(124, 58, 237, 0.1);
            }
            100% {
                box-shadow: 0 12px 30px rgba(124, 58, 237, 0.4);
            }
        }

        .floating-nav-btn:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 15px 35px rgba(124, 58, 237, 0.5);
        }

        /* ============================================
           MODAL DE DETALLES (MEJORADO)
        ============================================ */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 23, 42, 0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            backdrop-filter: blur(20px);
            animation: fadeIn 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--card-bg);
            border-radius: 24px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: var(--modal-shadow);
            animation: slideUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            padding: 25px;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .modal-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        }

        .modal-title {
            font-size: 22px;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
            z-index: 1;
        }

        .modal-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 44px;
            height: 44px;
            border-radius: 12px;
            font-size: 20px;
            cursor: pointer;
            transition: var(--fast-transition);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 25px;
            overflow-y: auto;
            max-height: calc(90vh - 150px);
        }

        .client-profile-modal {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--gray-light);
        }

        .profile-avatar-modal {
            width: 70px;
            height: 70px;
            border-radius: 18px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            font-weight: 800;
            box-shadow: 0 10px 25px rgba(124, 58, 237, 0.3);
            flex-shrink: 0;
        }

        .profile-info-modal h4 {
            font-size: 22px;
            font-weight: 800;
            color: var(--dark-color);
            margin-bottom: 8px;
            line-height: 1.2;
        }

        .profile-status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
        }

        .profile-contact-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 15px;
        }

        .contact-item-modal {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--dark-color);
            font-size: 14px;
            background: rgba(124, 58, 237, 0.05);
            padding: 12px;
            border-radius: 12px;
        }

        .contact-item-modal i {
            color: var(--primary-color);
            font-size: 16px;
            width: 20px;
        }

        .info-grid-2x2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .info-card {
            background: rgba(124, 58, 237, 0.05);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid var(--gray-light);
        }

        .info-card-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--gray-light);
        }

        .info-card-title i {
            color: var(--primary-color);
            background: rgba(124, 58, 237, 0.1);
            padding: 10px;
            border-radius: 10px;
            font-size: 16px;
        }

        .info-item-modal {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--gray-light);
        }

        .info-item-modal:last-child {
            border-bottom: none;
        }

        .info-label-modal {
            font-weight: 600;
            color: var(--gray-color);
            font-size: 14px;
        }

        .info-value-modal {
            color: var(--dark-color);
            font-weight: 600;
            text-align: right;
            font-size: 14px;
        }

        .action-grid-2x2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .action-btn-modal {
            padding: 16px;
            border-radius: 14px;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: var(--fast-transition);
        }

        .action-btn-modal.view {
            background: var(--card-bg);
            color: var(--dark-color);
            border: 2px solid var(--gray-light);
        }

        .action-btn-modal.view:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .action-btn-modal.edit {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.3);
        }

        .action-btn-modal.edit:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(245, 158, 11, 0.4);
        }

        .action-btn-modal.delete {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.3);
        }

        .action-btn-modal.delete:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(239, 68, 68, 0.4);
        }

        .action-btn-modal.payment {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3);
        }

        .action-btn-modal.payment:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.4);
        }

        /* ============================================
           NOTIFICACIONES
        ============================================ */
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            left: 20px;
            padding: 20px;
            border-radius: 16px;
            background: var(--card-bg);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 15px;
            animation: slideInRight 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-width: 400px;
            margin: 0 auto;
            border-left: 5px solid var(--primary-color);
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @media (min-width: 768px) {
            .notification {
                left: auto;
                right: 20px;
            }
        }

        .notification.success {
            border-left-color: var(--success-color);
        }

        .notification.error {
            border-left-color: var(--danger-color);
        }

        .notification.warning {
            border-left-color: var(--warning-color);
        }

        .notification-icon {
            font-size: 22px;
        }

        .notification.success .notification-icon {
            color: var(--success-color);
        }

        .notification.error .notification-icon {
            color: var(--danger-color);
        }

        .notification.warning .notification-icon {
            color: var(--warning-color);
        }

        .notification-close {
            margin-left: auto;
            background: none;
            border: none;
            color: var(--gray-color);
            cursor: pointer;
            padding: 5px;
            font-size: 18px;
            transition: var(--fast-transition);
        }

        .notification-close:hover {
            color: var(--dark-color);
            transform: rotate(90deg);
        }

        /* ============================================
           RESPONSIVE
        ============================================ */
        @media (max-width: 767px) {
            .main-content {
                padding: 20px;
            }
            
            .app-header {
                padding: 20px;
            }
            
            .user-avatar {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }
            
            .user-details h2 {
                font-size: 16px;
            }
            
            .header-btn, .theme-toggle {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }
            
            .page-title {
                font-size: 24px;
            }
            
            .stat-card {
                padding: 18px;
            }
            
            .stat-icon {
                width: 45px;
                height: 45px;
                font-size: 20px;
            }
            
            .stat-value {
                font-size: 24px;
            }
            
            .client-row {
                grid-template-columns: auto 1fr;
                gap: 12px;
            }
            
            .client-actions-col {
                grid-column: 1 / -1;
                justify-content: flex-start;
                margin-top: 10px;
                padding-top: 10px;
                border-top: 1px solid var(--gray-light);
                width: 100%;
            }
            
            .client-main-info {
                flex-direction: column;
                align-items: flex-start;
                gap: 6px;
            }
            
            .client-secondary-info {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
            
            .floating-nav-btn {
                width: 55px;
                height: 55px;
                font-size: 22px;
                bottom: 20px;
                right: 20px;
            }
            
            .nav-scroll-container {
                padding: 0 20px;
            }
            
            .nav-header {
                padding: 0 20px 15px;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .actions-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .search-box {
                min-width: 100%;
            }
            
            .quick-filters {
                justify-content: center;
            }
            
            .filter-chip {
                flex: 1;
                min-width: calc(50% - 6px);
                justify-content: center;
            }
            
            .client-row {
                padding: 15px;
            }
            
            .pagination {
                flex-wrap: wrap;
                gap: 8px;
            }
            
            .pagination-btn {
                width: 35px;
                height: 35px;
                font-size: 13px;
            }
            
            .pagination-info {
                font-size: 12px;
                padding: 0 10px;
            }
            
            .nav-grid {
                grid-template-columns: 1fr;
            }
            
            .info-grid-2x2 {
                grid-template-columns: 1fr;
            }
            
            .profile-contact-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 360px) {
            .nav-grid {
                grid-template-columns: 1fr;
            }
            
            .client-contact {
                font-size: 12px;
            }
            
            .client-plan {
                font-size: 12px;
            }
        }

        /* ============================================
           UTILITIES
        ============================================ */
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        
        .mt-1 { margin-top: 4px; }
        .mt-2 { margin-top: 8px; }
        .mt-3 { margin-top: 12px; }
        .mt-4 { margin-top: 16px; }
        .mt-5 { margin-top: 20px; }
        
        .mb-1 { margin-bottom: 4px; }
        .mb-2 { margin-bottom: 8px; }
        .mb-3 { margin-bottom: 12px; }
        .mb-4 { margin-bottom: 16px; }
        .mb-5 { margin-bottom: 20px; }
        
        .d-none { display: none !important; }
        .d-flex { display: flex; }
        .d-grid { display: grid; }
        
        .w-100 { width: 100%; }
        
        .cursor-pointer { cursor: pointer; }
        
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
            opacity: 0;
        }
    </style>
</head>
<body data-theme="light">
    <!-- ADVERTENCIA PARA PC -->
    <div class="desktop-warning" id="desktopWarning">
        <div class="warning-content">
            <div class="warning-icon">
                <i class="fas fa-mobile-alt"></i>
            </div>
            <h1 class="warning-title">Aplicación Móvil</h1>
            <p class="warning-message">
                Esta interfaz está optimizada para dispositivos móviles. 
                Para la mejor experiencia, accede desde tu teléfono o tablet.
            </p>
            <button class="continue-btn" onclick="forceContinue()">
                <i class="fas fa-desktop"></i> Usar en escritorio
            </button>
        </div>
    </div>

    <!-- APLICACIÓN PRINCIPAL -->
    <div id="appContainer">
        <!-- HEADER -->
        <header class="app-header">
            <div class="user-info">
                <div class="user-avatar">JP</div>
                <div class="user-details">
                    <h2>Juan Pérez</h2>
                    <p>Administrador Principal</p>
                </div>
            </div>
            
            <div class="header-actions">
                <button class="header-btn" id="notificationsBtn">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge"></span>
                </button>
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-sun"></i>
                </button>
            </div>
        </header>

        <!-- CONTENIDO PRINCIPAL -->
        <main class="main-content">
            <h1 class="page-title">Gestión de Clientes</h1>
            <p class="page-subtitle">Administra y visualiza toda la información de tus clientes</p>

            <!-- ESTADÍSTICAS -->
            <div class="stats-grid">
                <div class="stat-card fade-in">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-value" id="totalClients">0</div>
                    <div class="stat-label">Total Clientes</div>
                </div>
                
                <div class="stat-card fade-in">
                    <div class="stat-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-value" id="activeClients">0</div>
                    <div class="stat-label">Activos</div>
                </div>
                
                <div class="stat-card fade-in">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-value" id="warningClients">0</div>
                    <div class="stat-label">Por Vencer</div>
                </div>
                
                <div class="stat-card fade-in">
                    <div class="stat-icon">
                        <i class="fas fa-times-circle"></i>
                    </div>
                    <div class="stat-value" id="expiredClients">0</div>
                    <div class="stat-label">Vencidos</div>
                </div>
            </div>

            <!-- BÚSQUEDA Y FILTROS RÁPIDOS -->
            <section class="quick-actions fade-in">
                <div class="actions-header">
                    <h3><i class="fas fa-search"></i> Buscar y Filtrar</h3>
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" id="searchInput" 
                               placeholder="Buscar cliente...">
                    </div>
                </div>
                
                <div class="quick-filters">
                    <div class="filter-chip active" data-filter="all">
                        <i class="fas fa-users"></i>
                        <span>Todos</span>
                    </div>
                    <div class="filter-chip" data-filter="active">
                        <i class="fas fa-check-circle"></i>
                        <span>Activos</span>
                    </div>
                    <div class="filter-chip" data-filter="warning">
                        <i class="fas fa-clock"></i>
                        <span>Pendientes</span>
                    </div>
                    <div class="filter-chip" data-filter="expired">
                        <i class="fas fa-times-circle"></i>
                        <span>Vencidos</span>
                    </div>
                    <div class="filter-chip" data-filter="basic">
                        <i class="fas fa-tv"></i>
                        <span>Plan Básico</span>
                    </div>
                    <div class="filter-chip" data-filter="premium">
                        <i class="fas fa-crown"></i>
                        <span>Plan Premium</span>
                    </div>
                </div>
            </section>

            <!-- LISTA DE CLIENTES (ORDENADA) -->
            <section class="clients-section fade-in">
                <div class="section-header">
                    <h2><i class="fas fa-users"></i> Lista de Clientes</h2>
                    <div class="clients-count" id="clientsCount">Cargando...</div>
                </div>
                
                <div class="clients-list" id="clientsList">
                    <!-- Los clientes se cargarán aquí -->
                </div>
                
                <!-- PAGINACIÓN -->
                <div class="pagination" id="paginationContainer">
                    <!-- La paginación se generará dinámicamente -->
                </div>
            </section>
        </main>
    </div>

    <!-- BOTÓN FLOTANTE PARA NAVEGACIÓN -->
    <button class="floating-nav-btn" id="floatingNavBtn">
        <i class="fas fa-bars"></i>
    </button>

    <!-- BOTTOM NAV DESLIZANTE MEJORADA CON SCROLL -->
    <nav class="bottom-nav" id="bottomNav">
        <div class="nav-header">
            <div class="nav-title">Acciones Rápidas</div>
            <button class="close-nav" id="closeNavBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="nav-scroll-container">
            <div class="nav-grid">
                <!-- Navegación Principal -->
                <a href="admin-dashboard.html" class="nav-item">
                    <i class="fas fa-tachometer-alt nav-icon"></i>
                    <span class="nav-label">Inicio</span>
                </a>
                
                <a href="#" class="nav-item active">
                    <i class="fas fa-users nav-icon"></i>
                    <span class="nav-label">Clientes</span>
                    <span class="nav-badge" id="navClientsBadge">0</span>
                </a>
                
                <a href="pagos.html" class="nav-item">
                    <i class="fas fa-credit-card nav-icon"></i>
                    <span class="nav-label">Pagos</span>
                </a>
                
                <a href="reportes.html" class="nav-item">
                    <i class="fas fa-chart-bar nav-icon"></i>
                    <span class="nav-label">Reportes</span>
                </a>
                
                <a href="planes.html" class="nav-item">
                    <i class="fas fa-tv nav-icon"></i>
                    <span class="nav-label">Planes</span>
                </a>
                
                <a href="soporte.html" class="nav-item">
                    <i class="fas fa-headset nav-icon"></i>
                    <span class="nav-label">Soporte</span>
                </a>
                
                <a href="empleados.html" class="nav-item">
                    <i class="fas fa-user-tie nav-icon"></i>
                    <span class="nav-label">Empleados</span>
                </a>
                
                <a href="configuracion.html" class="nav-item">
                    <i class="fas fa-cog nav-icon"></i>
                    <span class="nav-label">Configuración</span>
                </a>
                
                <!-- BOTONES DE ACCIÓN (SIN TEMA) -->
                <button class="nav-action-btn nav-new-client" id="navNewClientBtn">
                    <i class="fas fa-user-plus nav-icon"></i>
                    <span class="nav-label">Nuevo Cliente</span>
                </button>
                
                <button class="nav-action-btn nav-logout" id="navLogoutBtn">
                    <i class="fas fa-sign-out-alt nav-icon"></i>
                    <span class="nav-label">Salir</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- MODAL DE DETALLES -->
    <div class="modal-overlay" id="clientModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-user-circle"></i> Detalles del Cliente
                </h3>
                <button class="modal-close" id="modalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="client-profile-modal">
                    <div class="profile-avatar-modal" id="modalAvatar">NC</div>
                    <div class="profile-info-modal">
                        <h4 id="modalName">Cargando...</h4>
                        <span class="profile-status status-active" id="modalStatus">Activo</span>
                        
                        <div class="profile-contact-grid">
                            <div class="contact-item-modal">
                                <i class="fas fa-phone"></i>
                                <span id="modalPhone">Cargando...</span>
                            </div>
                            <div class="contact-item-modal">
                                <i class="fas fa-envelope"></i>
                                <span id="modalEmail">Cargando...</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-grid-2x2">
                    <div class="info-card">
                        <div class="info-card-title">
                            <i class="fas fa-user"></i> Información Personal
                        </div>
                        <div class="info-content">
                            <div class="info-item-modal">
                                <span class="info-label-modal">Nombre:</span>
                                <span class="info-value-modal" id="modalFullName">-</span>
                            </div>
                            <div class="info-item-modal">
                                <span class="info-label-modal">Teléfono:</span>
                                <span class="info-value-modal" id="modalPhoneFull">-</span>
                            </div>
                            <div class="info-item-modal">
                                <span class="info-label-modal">Email:</span>
                                <span class="info-value-modal" id="modalEmailFull">-</span>
                            </div>
                            <div class="info-item-modal">
                                <span class="info-label-modal">Dirección:</span>
                                <span class="info-value-modal" id="modalAddress">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="info-card-title">
                            <i class="fas fa-tv"></i> Información del Plan
                        </div>
                        <div class="info-content">
                            <div class="info-item-modal">
                                <span class="info-label-modal">Plan:</span>
                                <span class="info-value-modal" id="modalPlan">-</span>
                            </div>
                            <div class="info-item-modal">
                                <span class="info-label-modal">Precio:</span>
                                <span class="info-value-modal" id="modalPrice">-</span>
                            </div>
                            <div class="info-item-modal">
                                <span class="info-label-modal">Inicio:</span>
                                <span class="info-value-modal" id="modalStartDate">-</span>
                            </div>
                            <div class="info-item-modal">
                                <span class="info-label-modal">Vence:</span>
                                <span class="info-value-modal" id="modalDueDate">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="action-grid-2x2 mt-4">
                    <button class="action-btn-modal view" id="viewFullDetails">
                        <i class="fas fa-expand-alt"></i>
                        <span>Ver Detalles</span>
                    </button>
                    <button class="action-btn-modal edit" id="editClientBtn">
                        <i class="fas fa-edit"></i>
                        <span>Editar Cliente</span>
                    </button>
                    <button class="action-btn-modal payment" id="processPaymentBtn">
                        <i class="fas fa-credit-card"></i>
                        <span>Registrar Pago</span>
                    </button>
                    <button class="action-btn-modal delete" id="deleteClientBtn">
                        <i class="fas fa-trash-alt"></i>
                        <span>Eliminar Cliente</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // CONFIGURACIÓN
        // ============================================
        const NOCODB_CONFIG = {
            BASE_URL: 'https://app.nocodb.com/api/v2/tables',
            TABLE_ID: 'mgngbu64zhcnffe',
            API_TOKEN: 'kkwcfnQhokq8OcCzf_0e1LTN4feqiNXSwfrGz0kB',
            LIMIT: 100
        };

        let allClients = [];
        let filteredClients = [];
        let currentFilter = 'all';
        let currentPage = 1;
        const clientsPerPage = 10;

        // ============================================
        // INICIALIZACIÓN
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            checkDevice();
            window.addEventListener('resize', checkDevice);
            
            initTheme();
            initNavigation();
            initModal();
            initNotifications();
            initSearch();
            initFilters();
            initBottomNavButtons();
            
            loadClientes();
            
            // Animaciones
            setTimeout(() => {
                document.querySelectorAll('.fade-in').forEach((el, index) => {
                    setTimeout(() => {
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    }, index * 100);
                });
            }, 300);
        });

        // ============================================
        // DETECCIÓN DE DISPOSITIVO
        // ============================================
        function checkDevice() {
            const desktopWarning = document.getElementById('desktopWarning');
            const appContainer = document.getElementById('appContainer');
            
            if (localStorage.getItem('forceMobileView') === 'true') {
                desktopWarning.classList.remove('active');
                appContainer.style.display = 'block';
                return;
            }
            
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const screenWidth = window.innerWidth;
            const isTablet = screenWidth >= 768 && screenWidth <= 1024;
            
            if (!isMobile && !isTablet && screenWidth > 1024) {
                desktopWarning.classList.add('active');
                appContainer.style.display = 'none';
            } else {
                desktopWarning.classList.remove('active');
                appContainer.style.display = 'block';
            }
        }

        function forceContinue() {
            const desktopWarning = document.getElementById('desktopWarning');
            const appContainer = document.getElementById('appContainer');
            
            desktopWarning.classList.remove('active');
            appContainer.style.display = 'block';
            localStorage.setItem('forceMobileView', 'true');
            
            showNotification('Modo escritorio activado', 'info');
        }

        // ============================================
        // TEMA CLARO/OSCURO
        // ============================================
        function initTheme() {
            const themeToggle = document.getElementById('themeToggle');
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
            
            themeToggle.addEventListener('click', function() {
                toggleTheme();
            });
        }

        function toggleTheme() {
            const currentTheme = document.body.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            document.body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
            
            showNotification(`Tema ${newTheme === 'dark' ? 'oscuro' : 'claro'} activado`, 'info');
        }

        function updateThemeIcon(theme) {
            const headerIcon = document.querySelector('#themeToggle i');
            
            if (headerIcon) {
                headerIcon.className = theme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
            }
        }

        // ============================================
        // NAVEGACIÓN
        // ============================================
        function initNavigation() {
            const floatingBtn = document.getElementById('floatingNavBtn');
            const bottomNav = document.getElementById('bottomNav');
            const closeBtn = document.getElementById('closeNavBtn');
            
            floatingBtn.addEventListener('click', function() {
                bottomNav.classList.add('active');
                this.style.transform = 'scale(0)';
                setTimeout(() => {
                    this.style.opacity = '0';
                }, 300);
            });
            
            closeBtn.addEventListener('click', function() {
                bottomNav.classList.remove('active');
                floatingBtn.style.opacity = '1';
                floatingBtn.style.transform = 'scale(1)';
            });
            
            bottomNav.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                    floatingBtn.style.opacity = '1';
                    floatingBtn.style.transform = 'scale(1)';
                }
            });
        }

        // ============================================
        // BOTONES EN BOTTOM NAV
        // ============================================
        function initBottomNavButtons() {
            // Botón Nuevo Cliente en Bottom Nav
            document.getElementById('navNewClientBtn').addEventListener('click', function() {
                showNotification('Creando nuevo cliente...', 'info');
                // window.location.href = 'nuevo-cliente.html';
            });
            
            // Botón Salir en Bottom Nav
            document.getElementById('navLogoutBtn').addEventListener('click', function() {
                if (confirm('¿Está seguro que desea salir de la aplicación?')) {
                    showNotification('Cerrando sesión...', 'info');
                    setTimeout(() => {
                        // window.location.href = 'login.html';
                        showNotification('Sesión cerrada exitosamente', 'success');
                    }, 1000);
                }
            });
        }

        // ============================================
        // BÚSQUEDA Y FILTROS
        // ============================================
        function initSearch() {
            const searchInput = document.getElementById('searchInput');
            let searchTimeout;
            
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    currentPage = 1;
                    filterClients(this.value.toLowerCase());
                }, 300);
            });
        }

        function initFilters() {
            document.querySelectorAll('.filter-chip').forEach(chip => {
                chip.addEventListener('click', function() {
                    document.querySelectorAll('.filter-chip').forEach(c => {
                        c.classList.remove('active');
                    });
                    this.classList.add('active');
                    currentFilter = this.getAttribute('data-filter');
                    currentPage = 1;
                    filterClients(document.getElementById('searchInput').value.toLowerCase());
                });
            });
        }

        function filterClients(searchTerm = '') {
            filteredClients = allClients.filter(client => {
                const clientData = extractClientData(client);
                const fullName = `${clientData.primer_nombre || ''} ${clientData.primer_apellido || ''}`.toLowerCase();
                const plan = (clientData.plan || '').toLowerCase();
                
                // Búsqueda por texto
                const matchesSearch = !searchTerm || 
                    fullName.includes(searchTerm) ||
                    (clientData.telefono || '').includes(searchTerm);
                
                // Filtro por estado/plan
                let matchesFilter = true;
                if (currentFilter !== 'all') {
                    if (currentFilter === 'active') {
                        matchesFilter = clientData.estado === 'Activo';
                    } else if (currentFilter === 'warning') {
                        matchesFilter = clientData.estado === 'Pendiente';
                    } else if (currentFilter === 'expired') {
                        matchesFilter = clientData.estado === 'Suspendido' || clientData.estado === 'Inactivo';
                    } else if (currentFilter === 'basic') {
                        matchesFilter = plan.includes('básico') || plan.includes('basico');
                    } else if (currentFilter === 'premium') {
                        matchesFilter = plan.includes('premium') || plan.includes('empresarial');
                    }
                }
                
                return matchesSearch && matchesFilter;
            });
            
            renderClients();
            renderPagination();
            updateStats();
        }

        // ============================================
        // FUNCIONES DE DATOS
        // ============================================
        function extractClientData(client) {
            const record = client.record || client;
            return {
                id: record.Id || record.id || '',
                primer_nombre: record.Primer_nombre || record.primer_nombre || record.nombre || '',
                primer_apellido: record.Primer_apellido || record.primer_apellido || record.apellido || '',
                telefono: record.Telefono || record.telefono || '',
                email: record.Email || record.email || '',
                direccion: record.Direccion || record.direccion || '',
                plan: record.Plan || record.plan || '',
                estado: record.Estado || record.estado || 'Activo',
                fecha_registro: record.Fecha_registro || record.fecha_registro || '',
                fecha_inicio: record.Fecha_inicio || record.fecha_inicio || '',
                fecha_vencimiento: record.Fecha_vencimiento || record.fecha_vencimiento || '',
                ultimo_pago: record.Ultimo_pago || record.ultimo_pago || '',
                monto_pago: record.Monto_pago || record.monto_pago || '',
                meses_pagados: record.Meses_pagados || record.meses_pagados || 0,
                notas: record.Notas || record.notas || ''
            };
        }

        function getAvatarColor(name) {
            const colors = [
                'linear-gradient(135deg, #8b5cf6, #7c3aed)',
                'linear-gradient(135deg, #3b82f6, #1d4ed8)',
                'linear-gradient(135deg, #10b981, #059669)',
                'linear-gradient(135deg, #f59e0b, #d97706)',
                'linear-gradient(135deg, #ef4444, #dc2626)'
            ];
            if (!name) return colors[0];
            const index = name.charCodeAt(0) % colors.length;
            return colors[index];
        }

        function generateInitials(firstName, lastName) {
            if (!firstName && !lastName) return 'NC';
            const first = firstName ? firstName.charAt(0).toUpperCase() : '';
            const last = lastName ? lastName.charAt(0).toUpperCase() : '';
            return first + last;
        }

        function formatDate(dateString) {
            if (!dateString || dateString === 'Invalid Date') return 'No disponible';
            try {
                const date = new Date(dateString);
                if (isNaN(date.getTime())) return 'Fecha inválida';
                return date.toLocaleDateString('es-HN', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
            } catch (error) {
                return 'Fecha inválida';
            }
        }

        function formatCurrency(amount) {
            if (!amount) return 'L 0.00';
            return 'L ' + parseFloat(amount).toFixed(2);
        }

        // ============================================
        // PAGINACIÓN
        // ============================================
        function renderPagination() {
            const paginationContainer = document.getElementById('paginationContainer');
            const totalPages = Math.ceil(filteredClients.length / clientsPerPage);
            
            if (totalPages <= 1) {
                paginationContainer.innerHTML = '';
                return;
            }
            
            let paginationHTML = '';
            
            // Botón Anterior
            paginationHTML += `
                <button class="pagination-btn" ${currentPage === 1 ? 'disabled' : ''} 
                        onclick="changePage(${currentPage - 1})">
                    <i class="fas fa-chevron-left"></i>
                </button>
            `;
            
            // Páginas
            const maxVisiblePages = 5;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
            let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
            
            if (endPage - startPage + 1 < maxVisiblePages) {
                startPage = Math.max(1, endPage - maxVisiblePages + 1);
            }
            
            if (startPage > 1) {
                paginationHTML += `
                    <button class="pagination-btn" onclick="changePage(1)">1</button>
                    ${startPage > 2 ? '<span class="pagination-info">...</span>' : ''}
                `;
            }
            
            for (let i = startPage; i <= endPage; i++) {
                paginationHTML += `
                    <button class="pagination-btn ${i === currentPage ? 'active' : ''}" 
                            onclick="changePage(${i})">
                        ${i}
                    </button>
                `;
            }
            
            if (endPage < totalPages) {
                paginationHTML += `
                    ${endPage < totalPages - 1 ? '<span class="pagination-info">...</span>' : ''}
                    <button class="pagination-btn" onclick="changePage(${totalPages})">
                        ${totalPages}
                    </button>
                `;
            }
            
            // Botón Siguiente
            paginationHTML += `
                <button class="pagination-btn" ${currentPage === totalPages ? 'disabled' : ''} 
                        onclick="changePage(${currentPage + 1})">
                    <i class="fas fa-chevron-right"></i>
                </button>
            `;
            
            // Información de página
            const startIndex = (currentPage - 1) * clientsPerPage + 1;
            const endIndex = Math.min(currentPage * clientsPerPage, filteredClients.length);
            
            paginationHTML += `
                <div class="pagination-info">
                    Mostrando ${startIndex}-${endIndex} de ${filteredClients.length} clientes
                </div>
            `;
            
            paginationContainer.innerHTML = paginationHTML;
        }

        function changePage(page) {
            currentPage = page;
            renderClients();
            renderPagination();
            
            // Scroll suave a la parte superior de la lista
            const clientsSection = document.querySelector('.clients-section');
            clientsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function getPaginatedClients() {
            const startIndex = (currentPage - 1) * clientsPerPage;
            const endIndex = startIndex + clientsPerPage;
            return filteredClients.slice(startIndex, endIndex);
        }

        // ============================================
        // RENDERIZADO DE CLIENTES
        // ============================================
        function renderClients() {
            const clientsList = document.getElementById('clientsList');
            const clientsCount = document.getElementById('clientsCount');
            const paginatedClients = getPaginatedClients();
            
            if (!paginatedClients.length) {
                clientsList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">
                            <i class="fas fa-user-slash"></i>
                        </div>
                        <h3 class="empty-title">No se encontraron clientes</h3>
                        <p class="empty-message">
                            ${currentFilter !== 'all' ? 
                                `No hay clientes con el filtro "${currentFilter}"` : 
                                'No hay clientes registrados en el sistema.'}
                        </p>
                        <button class="continue-btn" onclick="initBottomNavButtons()">
                            <i class="fas fa-user-plus"></i> Agregar Primer Cliente
                        </button>
                    </div>
                `;
                clientsCount.textContent = '0 clientes';
                return;
            }
            
            clientsList.innerHTML = paginatedClients
                .map((client, index) => {
                    const clientData = extractClientData(client);
                    const initials = generateInitials(
                        clientData.primer_nombre,
                        clientData.primer_apellido
                    );
                    const fullName = `${clientData.primer_nombre || ''} ${clientData.primer_apellido || ''}`.trim();
                    const phone = clientData.telefono || 'Sin teléfono';
                    const plan = clientData.plan || 'Sin plan';
                    
                    // Determinar clase de estado
                    let statusClass = 'status-active';
                    let statusText = 'Activo';
                    
                    if (clientData.estado === 'Pendiente' || clientData.estado === 'Por Vencer') {
                        statusClass = 'status-warning';
                        statusText = 'Pendiente';
                    } else if (clientData.estado === 'Suspendido' || clientData.estado === 'Inactivo' || clientData.estado === 'Vencido') {
                        statusClass = 'status-expired';
                        statusText = 'Vencido';
                    }
                    
                    // Determinar si está próximo a vencer
                    const dueDate = clientData.fecha_vencimiento;
                    if (dueDate && statusClass === 'status-active') {
                        const today = new Date();
                        const due = new Date(dueDate);
                        const diffDays = Math.ceil((due - today) / (1000 * 60 * 60 * 24));
                        
                        if (diffDays <= 7 && diffDays > 0) {
                            statusClass = 'status-warning';
                            statusText = 'Por vencer';
                        }
                    }
                    
                    return `
                    <div class="client-row" data-id="${clientData.id}" onclick="openClientModal('${clientData.id}')">
                        <div class="client-avatar-col">
                            <div class="client-avatar" style="background: ${getAvatarColor(fullName)}">
                                ${initials}
                            </div>
                        </div>
                        
                        <div class="client-info-col">
                            <div class="client-main-info">
                                <div class="client-name" title="${fullName}">
                                    ${fullName || 'Cliente sin nombre'}
                                </div>
                                <div class="client-id">
                                    ID: ${clientData.id || 'N/A'}
                                </div>
                            </div>
                            
                            <div class="client-secondary-info">
                                <div class="client-contact">
                                    <i class="fas fa-phone"></i>
                                    <span title="${phone}">${phone}</span>
                                </div>
                                <div class="client-plan">
                                    <i class="fas fa-tv"></i>
                                    <span>${plan}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="client-actions-col">
                            <div class="client-status ${statusClass}">
                                ${statusText}
                            </div>
                            <button class="client-action-btn" onclick="event.stopPropagation(); openClientModal('${clientData.id}')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    `;
                })
                .join('');
            
            clientsCount.textContent = `${filteredClients.length} cliente${filteredClients.length !== 1 ? 's' : ''}`;
            
            // Actualizar badge de navegación
            document.getElementById('navClientsBadge').textContent = allClients.length;
        }

        // ============================================
        // ACTUALIZACIÓN DE ESTADÍSTICAS
        // ============================================
        function updateStats() {
            let activeCount = 0;
            let warningCount = 0;
            let expiredCount = 0;
            
            allClients.forEach(client => {
                const clientData = extractClientData(client);
                const estado = clientData.estado || 'Activo';
                
                switch (estado) {
                    case 'Activo':
                        activeCount++;
                        break;
                    case 'Pendiente':
                    case 'Por Vencer':
                        warningCount++;
                        break;
                    case 'Suspendido':
                    case 'Inactivo':
                    case 'Vencido':
                        expiredCount++;
                        break;
                    default:
                        activeCount++;
                }
                
                // Verificar vencimiento para clientes activos
                if (estado === 'Activo' && clientData.fecha_vencimiento) {
                    const today = new Date();
                    const dueDate = new Date(clientData.fecha_vencimiento);
                    const diffDays = Math.ceil((dueDate - today) / (1000 * 60 * 60 * 24));
                    
                    if (diffDays <= 7 && diffDays > 0) {
                        activeCount--;
                        warningCount++;
                    } else if (diffDays <= 0) {
                        activeCount--;
                        expiredCount++;
                    }
                }
            });
            
            // Animar contadores
            animateCounter('totalClients', allClients.length);
            animateCounter('activeClients', activeCount);
            animateCounter('warningClients', warningCount);
            animateCounter('expiredClients', expiredCount);
        }

        function animateCounter(elementId, targetValue) {
            const element = document.getElementById(elementId);
            const currentValue = parseInt(element.textContent) || 0;
            const duration = 1000;
            const steps = 30;
            const increment = (targetValue - currentValue) / steps;
            let currentStep = 0;
            
            const timer = setInterval(() => {
                currentStep++;
                const newValue = Math.floor(currentValue + (increment * currentStep));
                element.textContent = newValue;
                
                if (currentStep >= steps) {
                    element.textContent = targetValue;
                    clearInterval(timer);
                }
            }, duration / steps);
        }

        // ============================================
        // MODAL DE DETALLES
        // ============================================
        function initModal() {
            const modal = document.getElementById('clientModal');
            const modalClose = document.getElementById('modalClose');
            
            modalClose.addEventListener('click', () => {
                modal.classList.remove('active');
            });
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
            
            // Botones de acción del modal
            document.getElementById('viewFullDetails').addEventListener('click', () => {
                showNotification('Redirigiendo a vista detallada', 'info');
            });
            
            document.getElementById('editClientBtn').addEventListener('click', () => {
                showNotification('Abriendo editor de cliente', 'info');
            });
            
            document.getElementById('processPaymentBtn').addEventListener('click', () => {
                showNotification('Abriendo registro de pago', 'success');
            });
            
            document.getElementById('deleteClientBtn').addEventListener('click', () => {
                if (confirm('¿Está seguro de eliminar este cliente? Esta acción no se puede deshacer.')) {
                    showNotification('Cliente eliminado exitosamente', 'success');
                    setTimeout(() => {
                        modal.classList.remove('active');
                    }, 1500);
                }
            });
        }

        function openClientModal(clientId) {
            const modal = document.getElementById('clientModal');
            const client = allClients.find(c => {
                const data = extractClientData(c);
                return data.id == clientId;
            });
            
            if (!client) {
                showNotification('Cliente no encontrado', 'error');
                return;
            }
            
            const clientData = extractClientData(client);
            
            // Actualizar contenido del modal
            document.getElementById('modalAvatar').textContent = 
                generateInitials(clientData.primer_nombre, clientData.primer_apellido);
            document.getElementById('modalAvatar').style.background = 
                getAvatarColor(`${clientData.primer_nombre} ${clientData.primer_apellido}`);
            
            document.getElementById('modalName').textContent = 
                `${clientData.primer_nombre || ''} ${clientData.primer_apellido || ''}`.trim() || 'Cliente sin nombre';
            
            document.getElementById('modalPhone').textContent = 
                clientData.telefono || 'Sin teléfono';
            document.getElementById('modalEmail').textContent = 
                clientData.email ? clientData.email.substring(0, 20) + (clientData.email.length > 20 ? '...' : '') : 'Sin email';
            
            // Información personal
            document.getElementById('modalFullName').textContent = 
                `${clientData.primer_nombre || ''} ${clientData.primer_apellido || ''}`.trim() || 'No especificado';
            document.getElementById('modalPhoneFull').textContent = 
                clientData.telefono || 'No especificado';
            document.getElementById('modalEmailFull').textContent = 
                clientData.email || 'No especificado';
            document.getElementById('modalAddress').textContent = 
                clientData.direccion || 'No especificado';
            
            // Información del plan
            document.getElementById('modalPlan').textContent = 
                clientData.plan || 'No asignado';
            document.getElementById('modalPrice').textContent = 
                formatCurrency(clientData.monto_pago);
            document.getElementById('modalStartDate').textContent = 
                formatDate(clientData.fecha_inicio);
            document.getElementById('modalDueDate').textContent = 
                formatDate(clientData.fecha_vencimiento);
            
            // Actualizar estado
            const statusElement = document.getElementById('modalStatus');
            statusElement.textContent = clientData.estado || 'Activo';
            statusElement.className = 'profile-status status-active';
            
            if (clientData.estado === 'Pendiente' || clientData.estado === 'Por Vencer') {
                statusElement.className = 'profile-status status-warning';
            } else if (clientData.estado === 'Suspendido' || clientData.estado === 'Inactivo' || clientData.estado === 'Vencido') {
                statusElement.className = 'profile-status status-expired';
            }
            
            // Mostrar modal
            modal.classList.add('active');
        }

        // ============================================
        // NOTIFICACIONES
        // ============================================
        function initNotifications() {
            const notificationsBtn = document.getElementById('notificationsBtn');
            notificationsBtn.addEventListener('click', () => {
                showNotification('No tienes notificaciones nuevas', 'info');
            });
        }

        function showNotification(message, type = 'info') {
            // Crear elemento de notificación
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div class="notification-icon">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                </div>
                <div class="notification-content">${message}</div>
                <button class="notification-close">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            // Agregar al cuerpo
            document.body.appendChild(notification);
            
            // Configurar cierre
            const closeBtn = notification.querySelector('.notification-close');
            closeBtn.addEventListener('click', () => {
                notification.style.animation = 'slideInRight 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) reverse';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 500);
            });
            
            // Auto-eliminar después de 5 segundos
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'slideInRight 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) reverse';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 500);
                }
            }, 5000);
        }

        // ============================================
        // CARGA DE DATOS DESDE NOCoDB
        // ============================================
        async function loadClientes() {
            const loadingNotification = showNotification('Cargando clientes...', 'info');
            
            try {
                const response = await fetch(
                    `${NOCODB_CONFIG.BASE_URL}/${NOCODB_CONFIG.TABLE_ID}/records?limit=${NOCODB_CONFIG.LIMIT}`,
                    {
                        headers: {
                            'accept': 'application/json',
                            'xc-token': NOCODB_CONFIG.API_TOKEN
                        }
                    }
                );
                
                if (!response.ok) {
                    throw new Error(`Error HTTP: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (data.list && Array.isArray(data.list)) {
                    allClients = data.list;
                    filteredClients = [...allClients];
                    renderClients();
                    renderPagination();
                    updateStats();
                    showNotification(`${allClients.length} clientes cargados exitosamente`, 'success');
                } else {
                    throw new Error('Formato de datos inválido');
                }
                
            } catch (error) {
                console.error('Error al cargar clientes:', error);
                showNotification('Error al cargar clientes. Usando datos de prueba.', 'error');
                
                // Datos de prueba como fallback
                allClients = getMockData();
                filteredClients = [...allClients];
                renderClients();
                renderPagination();
                updateStats();
            }
        }

        // ============================================
        // DATOS DE PRUEBA (FALLBACK)
        // ============================================
        function getMockData() {
            const mockClients = [];
            const names = ['Ana', 'Carlos', 'María', 'José', 'Laura', 'Pedro', 'Sofía', 'Luis', 'Elena', 'Miguel'];
            const lastNames = ['García', 'Martínez', 'López', 'González', 'Rodríguez', 'Hernández', 'Pérez', 'Sánchez', 'Ramírez', 'Flores'];
            const plans = ['Básico 20MB', 'Premium 50MB', 'Empresarial 100MB', 'Residencial 10MB'];
            const statuses = ['Activo', 'Pendiente', 'Suspendido'];
            
            for (let i = 1; i <= 45; i++) {
                const firstName = names[Math.floor(Math.random() * names.length)];
                const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
                const plan = plans[Math.floor(Math.random() * plans.length)];
                const status = statuses[Math.floor(Math.random() * statuses.length)];
                
                const startDate = new Date();
                startDate.setDate(startDate.getDate() - Math.floor(Math.random() * 365));
                
                const dueDate = new Date(startDate);
                dueDate.setMonth(dueDate.getMonth() + 1);
                
                mockClients.push({
                    record: {
                        Id: `CL${String(i).padStart(4, '0')}`,
                        Primer_nombre: firstName,
                        Primer_apellido: lastName,
                        Telefono: `+504 ${Math.floor(Math.random() * 90000000 + 10000000)}`,
                        Email: `${firstName.toLowerCase()}.${lastName.toLowerCase()}@gmail.com`,
                        Direccion: `Colonia ${['Las Lomas', 'Los Pinos', 'San Miguel', 'El Centro'][Math.floor(Math.random() * 4)]}`,
                        Plan: plan,
                        Estado: status,
                        Fecha_registro: startDate.toISOString().split('T')[0],
                        Fecha_inicio: startDate.toISOString().split('T')[0],
                        Fecha_vencimiento: dueDate.toISOString().split('T')[0],
                        Monto_pago: plan.includes('Empresarial') ? '1200' : 
                                   plan.includes('Premium') ? '800' : 
                                   plan.includes('Básico') ? '500' : '300',
                        Meses_pagados: Math.floor(Math.random() * 12) + 1
                    }
                });
            }
            
            return mockClients;
        }

        // ============================================
        // EXPORTAR FUNCIONES GLOBALES
        // ============================================
        window.forceContinue = forceContinue;
        window.openClientModal = openClientModal;
        window.showNotification = showNotification;
        window.loadClientes = loadClientes;
        window.changePage = changePage;
    </script>
</body>
</html>
